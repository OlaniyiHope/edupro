document.addEventListener("DOMContentLoaded", function () {
  !(function (s) {
    "use strict";
    s(".switch").on("click", function () {
      s("body").hasClass("light")
        ? (s("body").removeClass("light"), s(".switch").removeClass("switched"))
        : (s("body").addClass("light"), s(".switch").addClass("switched"));
    });

    var e = document.querySelector(".progress-wrap path");
    if (e) {
      var t = e.getTotalLength();
      e.style.transition = e.style.WebkitTransition = "none";
      e.style.strokeDasharray = t + " " + t;
      e.style.strokeDashoffset = t;
      e.getBoundingClientRect();
      e.style.transition = e.style.WebkitTransition =
        "stroke-dashoffset 10ms linear";

      var o = function () {
        var o = s(window).scrollTop(),
          r = s(document).height() - s(window).height(),
          i = t - (o * t) / r;
        e.style.strokeDashoffset = i;
      };

      o();
      s(window).scroll(o);

      s(window).on("scroll", function () {
        s(this).scrollTop() > 50
          ? s(".progress-wrap").addClass("active-progress")
          : s(".progress-wrap").removeClass("active-progress");
      });

      s(".progress-wrap").on("click", function (s) {
        s.preventDefault();
        s("html, body").animate({ scrollTop: 0 }, 550);
        return false;
      });
    } else {
      console.error("Path element not found");
    }
  })(jQuery);
});
